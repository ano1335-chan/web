<html>
   <head>
      <meta http-equiv="Content-Type" content="Text/HTML; charset=Shift_JIS">
      <title>test</title>
   </head>

<style type="text/css">
<!--
.ToggleButton_Table{
  width: 50px; /* IE 系用 min-width 的･指定 */
}
.ToggleButton_Cell{
  min-width: 50px; /* Mozilla 系用 */
}
-->
</style>

<!-- IE 8 以下はドキュメントとして解釈される。-->
<!--[if lte IE 8]><!-->
<style type="text/css">
.ToggleButton_Off{
  behavior: url(./PIE.htc); /* PIE.htc を利用 */
  position:relative;
  user-select: none;
  -ms-user-select:  none;
  -moz-user-select: none;
  -webkit-user-select: none;
  border: 2px solid #063b65;
  padding: 20px 10px;
  text-align: center;
  border-radius: 23px;
  -pie-box-shadow: #666 0px 3px 5px;
  background: #396c97;
  -pie-background: linear-gradient(#bed8ea, #396c97); 
  font-weight: bold;
  color: #ffffff;
}
</style>
<!--<![endif]-->
<!-- IE 8 以下 以外はドキュメントとして解釈される。-->
<!--[if !(lte IE 8)]><!-->
<style type="text/css">
.ToggleButton_Off{
  position:relative;
  -ms-user-select:  none;
  -moz-user-select: none;
  -webkit-user-select: none;
  border: 2px solid #063b65;
  padding: 20px 10px;
  text-align: center;
  border-radius: 23px;
  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.5);
  background: linear-gradient(#bed8ea, #396c97);
  font-weight: bold;
  color: #ffffff;
}
</style>
<!--<![endif]-->

<!-- IE 8 以下はドキュメントとして解釈される。-->
<!--[if lte IE 8]><!-->
<style type="text/css">
.ToggleButton_On{
  behavior: url(./PIE.htc); /* PIE.htc を利用 */
  position:relative;
  -ms-user-select:  none;
  -moz-user-select: none;
  -webkit-user-select: none;
  border: 2px solid #063b65;
  padding: 20px 10px;
  text-align: center;
  border-radius: 23px;
  -pie-box-shadow: #666 0px 3px 5px;
  background: #66EE33;
  -pie-background: linear-gradient(#EEFF99, #66EE33); 
  font-weight: bold;
  color: #000000;
}
</style>
<!--<![endif]-->
<!-- IE 8 以下 以外はドキュメントとして解釈される。-->
<!--[if !(lte IE 8)]><!-->
<style type="text/css">
.ToggleButton_On{
  position:relative;
  -ms-user-select:  none;
  -moz-user-select: none;
  -webkit-user-select: none;
  border: 2px solid #063b65;
  padding: 20px 10px;
  text-align: center;
  border-radius: 23px;
  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.5);
  background: linear-gradient(#EEFF99, #66EE33);
  font-weight: bold;
  color: #000000;
}
</style>
<!--<![endif]-->

<!-- IE 8 以下はドキュメントとして解釈される。-->
<!--[if lte IE 8]><!-->
<style type="text/css">
.ToggleButton_Hover{
  behavior: url(./PIE.htc); /* PIE.htc を利用 */
  position:relative;
  -ms-user-select:  none;
  -moz-user-select: none;
  -webkit-user-select: none;
  border: 2px solid #063b65;
  padding: 20px 10px;
  text-align: center;
  border-radius: 23px;
  -pie-box-shadow: #666 0px 3px 5px;
  background: #f3812d;
  -pie-background: linear-gradient(#ffe286, #f3812d); 
  font-weight: bold;
  color: #000000;
}
</style>
<!--<![endif]-->
<!-- IE 8 以下 以外はドキュメントとして解釈される。-->
<!--[if !(lte IE 8)]><!-->
<style type="text/css">
.ToggleButton_Hover{
  position:relative;
  -ms-user-select:  none;
  -moz-user-select: none;
  -webkit-user-select: none;
  border: 2px solid #063b65;
  padding: 20px 10px;
  text-align: center;
  border-radius: 23px;
  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.5);
  background: linear-gradient(#ffe286, #f3812d);
  font-weight: bold;
  color: #000000;
}
</style>
<!--<![endif]-->

<script type="text/javascript">
<!--
// Initialize.
GUI_ToggleButton_Member = new Array( );
// GUI_ToggleButton_Member["ToggleButton001"] = true; // false; //
-->
</script> 

   <body bgcolor="#8f9fff" text="#000000" link="#2f2fff" vlink="#d700d7" alink="#00ffff" >

<script type="text/javascript">
<!--
// Question_CheckboxProperty_Member = new Array( );
Question_CorrectAnswer_Member = new Array( );
Question_CorrectAnswerMessage_Member = new Array( ); // 正解用メッセージ配列
// 下記「QuestionID(問題 ID)」は数値です、文字列には対応していません、
// 下記の「QuestionID++」の場合「QuestionID」に「-1」を代入すると、「QuestionID」はゼロ・スタートになります。
QuestionID = -1;



// 下記は2問の場合のテスト。
// 「QuestionID(問題 ID)」が重複すると正常に動作しません。
QuestionID++; // ←この「QuestionID++」の場合は連番になりますので、特に変更する必要はありません。
// 下記に設定用データを記述するだけで、作成できるようになりました。
// ▼▼▼ 設定用データ ▼▼▼ 
QuestionMessage = '（設問１）．九州の県は次のうちどれですか?';
CheckboxProperty_Member = [
  [ "福岡","FukuokaCheckbox", true ],
  [ "大阪","NagasakiCheckbox", false ]
];
// ▲▲▲ 設定用データ ▲▲▲ 
CorrectAnswer_Member = new Array( ); // 正解用配列
CheckboxChecked_Member = new Array( );
// document.write('<form>');
document.write(QuestionMessage+'<br>');
// document.write('<br>');
Question_CorrectAnswerMessage_Member[QuestionID] = ''; // 下記 for ループで正解用メッセージを作成しますので、プログラムで記述する必要はなくなりました。
Separator = '';
for(i = 0; i<CheckboxProperty_Member.length; i++){
  CorrectAnswer_Member[CheckboxProperty_Member[i][1]] = CheckboxProperty_Member[i][2];
  document.write("<table border=0 cellpadding=0 class='ToggleButton_Table' style='display: inline; margin: 0px; padding: 0px; '><tr><td nowrap class='ToggleButton_Cell' style='white-space: nowrap; ' >");
  document.write("<label id='"
  +"ToggleButton/"+String(QuestionID)+"/"+CheckboxProperty_Member[i][1]+
  "' class='ToggleButton_Off' style='display: block; ' onmouseover='this.className=\"ToggleButton_Hover\";' onmouseout='tm=GUI_ToggleButton_Member;id=this.id;if(tm[id]){this.className=\"ToggleButton_On\";}else{this.className=\"ToggleButton_Off\";}' onmousedown='tm=GUI_ToggleButton_Member;id=this.id;tm[id]=!tm[id];if(tm[id]){this.className=\"ToggleButton_On\";}else{this.className=\"ToggleButton_Off\";}' >"
  +CheckboxProperty_Member[i][0]+
  "</label>");
  document.write("</td></tr></table>");
  document.write("<br>");
  if( CheckboxProperty_Member[i][2] ){
    Question_CorrectAnswerMessage_Member[QuestionID] = 
      Question_CorrectAnswerMessage_Member[QuestionID]+Separator+
      CheckboxProperty_Member[i][0];
      Separator = "、";
  }
}
// Question_CheckboxProperty_Member[QuestionID] = CheckboxProperty_Member;
Question_CorrectAnswer_Member[QuestionID] = CorrectAnswer_Member;
// document.write('<br>');
document.write('<input type="button" value="解答" onclick="ClickButtonFunc('+String(QuestionID)+');" ><br>');


// document.write('<input type="hidden" name="Dummy">');
// document.write('</form>');
document.write('<div id="'+String(QuestionID)+'"></div>');
document.write('<br><br><br>');



function ClickButtonFunc( qid ) {
  oAnswer = document.getElementById(String(qid));
  var tbm = GUI_ToggleButton_Member; // この関数内の GUI_ToggleButton_Member の短縮形 Alias
  var cam = Question_CorrectAnswer_Member[QuestionID]; // この関数内の CorrectAnswer_Member の短縮形 Alias
  var check = false; // true; //
  var err = false; // true; //
  var k, k0, k1;
  for(k0 in cam){
  k1 = 'ToggleButton/'+String(qid)+'/'+k0;
    if( tbm[k1]==true ) check = true;
    // 厳密等価比較
    if( tbm[k1]===undefined ) tbm[k1] = false;
    if( tbm[k1]!=cam[k0] ) err = true;
    // ↑なぜか厳密非等価比較になるようです。
  }
  if( ! check ){
    oAnswer.innerHTML =
    "チェックされていません。<br>"+
    "１つ以上をチェックして下さい。<br>";
  }else if( err ){
    oAnswer.innerHTML =
    "不正解です。<br>"+
    "正解は「"+Question_CorrectAnswerMessage_Member[qid]+"」です。<br>";
  }else{
    oAnswer.innerHTML = "正解です。<br>";
  }
}
-->
</script> 


<script type="text/javascript">
<!--
// Finalize.
wm = document.getElementsByTagName("label");
for( i = 0; i<wm.length; i++ ){
  k = "ToggleButton";
  kl = k.length;
  w = wm[i];
  id = w.id;
  if( id==undefined ) id = "";
  if( k==id.substr(0, kl) ){
    if( GUI_ToggleButton_Member[id] ) w.className = "ToggleButton_On"
    else w.className = "ToggleButton_Off";
  }
}
-->
</script> 


   </body>
</html>
