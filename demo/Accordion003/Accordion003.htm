<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <!--
metaタグでcharsetをUTF-8に設定しています。
(モチロン他のキャラクターセットに変更しても良いですが)必ずcharsetに設定されているキャラクターセットでセーブして下さい。
-->
  <link rel="preload" name="BackgroundImage" href="huji001-0.jpg" as="image">
  <link rel="preload" name="BackgroundImage" href="huji001-1.jpg" as="image">
  <link rel="preload" name="BackgroundImage" href="huji001-2.jpg" as="image">
  <script>
    let fwHTMLRoot = document.documentElement;
    let fwHTMLHead = document.head;
    let fwHTMLBody;
    
    let nLoadCountdown = 4; // 画像の数＋document(1)。
    a1wBackgroundImage = document.getElementsByName("BackgroundImage");
    for (wBI of a1wBackgroundImage) {
      wBI.addEventListener("load", LoadCountdown_Handler, false);
    }
    window.onload = LoadCountdown_Handler;
    function LoadCountdown_Handler() {
      nLoadCountdown--;
      console.log(`nLoadCountdown: ${nLoadCountdown}`);
      if(nLoadCountdown===0){
        fwHTMLBody = document.getElementsByTagName("body")[0];
        fwHTMLBody.classList.add("BackgroundAccordion")
      }
    }
  </script>
  <TITLE></TITLE>
  <style>
    .BackgroundAccordion {
      background-image: url(huji001-0.jpg), url(huji001-1.jpg), url(huji001-2.jpg);
      background-position: left 0 top 50%, left 50% top 50%, left 100% top 50%;
      /* ↑background-position: オフセット値　パーセンテージの場合 */
      /* (コンテナーの幅 - 画像の幅) * (position x%) */
      /* (コンテナーの高さ - 画像の高さ) * (position y%) */
      background-size: 33.4% auto, 33.4% auto, 33.4% auto;
      /* ↑誤差が有るようなので「0.1%」ぐらい増やした方が良い感じ。 */
      background-repeat: no-repeat, no-repeat, no-repeat;
      background-attachment: fixed;
      animation-name: BackgroundAccordion_Animation;
      animation-duration: 1.5s;
      animation-timing-function: linear;
    }

    @keyframes BackgroundAccordion_Animation {
      0% {
        background-position: left 0 top 100vh, left 50% top 100vh, left 100% top 100vh;
      }

      30% {
        background-position: left 0 top 100vh, left 50% top 100vh, left 100% top 100vh;
      }

      44% {
        background-position: left 0 top calc(100vh / 3 * 2 + 50% / 3), left 50% top 100vh, left 100% top 100vh;
      }

      58% {
        background-position: left 0 top calc(100vh / 3 + 50% / 3 * 2), left 50% top calc(100vh / 3 * 2 + 50% / 3), left 100% top 100vh;
      }

      72% {
        background-position: left 0 top 50%, left 50% top calc(100vh / 3 + 50% / 3 * 2), left 100% calc(100vh / 3 * 2 + 50% / 3);
      }

      86% {
        background-position: left 0 top 50%, left 50% top 50%, left 100% top calc(100vh / 3 + 50% / 3 * 2);
      }

      100% {
        background-position: left 0 top 50%, left 50% top 50%, left 100% top 50%;
      }
    }

  </style>
</head>
<body class="">
</body>
</html>
